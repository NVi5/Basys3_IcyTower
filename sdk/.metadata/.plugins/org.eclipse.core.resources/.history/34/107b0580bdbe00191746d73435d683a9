#include "../include/game.hpp"
#include "../include/fpga_interface.h"

#include "xil_printf.h"

Game GameInstance;

int main(){

	fpga_interface_initialize(&GameInstance);
	fpga_interface_initialize_hardware();

    while(1){

    	int i = 0;
		while(i++ < 70000);
    	GameInstance.Run();

    	if( GameInstance.GetPlayer().getPosition().GetX() < 1 ){
    		xil_printf("%d\r\n", (int)GameInstance.GetPlayer().getPosition().GetX());
    		while(1);
    	}

    	if(GameInstance.gameOver){
    		GameInstance = Game();

    	}
    }
}

