/*
 * menu.c
 *
 *  Created on: 22.08.2019
 *      Author: nvade
 */
#include "../include/menu.hpp"
#include "xparameters.h"
#include <string.h>
#include "../include/tinyprintf.h"

static const char text_restart[]={"Restart"};
static const char text_resume[]={"Resume"};
static const char text_level_easy[]={"Level: Easy"};
static const char text_level_medium[]={"Level: Medium"};
static const char text_level_hard[]={"Level: Hard"};

static const char * text_memory[]={
		text_restart,
		text_resume,
		text_level_easy,
		text_level_medium,
		text_level_hard
};

Menu::Menu(char * buf){
	this->Position = Position::RESTART_RESUME;
	this->Level = Level::EASY;
	this->State = State::STARTED;
	this->Counter = 0;

	this->XPos = 0;
	this->YPos = 0;
	this->Color = 0;
	this->Scale = 0;
	this->Buffer = buf;

	memset(this->Buffer, 0, BUFFERSIZE);
}

void Menu::SetState(enum Menu::State st){
	this->State = st;
}

void Menu::SetPosition(enum Menu::Position pos){
	this->Position = pos;
}

void Menu::SetLevel(enum Menu::Level lv){
	this->Level = lv;
}

void Menu::SetCounter(unsigned int count){
	this->Counter = count;
}

char * Menu::GetBuffer(void){
	return this->Buffer;
}

unsigned int Menu::GetXPos(void){
	return this->XPos;
}

unsigned int Menu::GetYPos(void){
	return this->YPos;
}

unsigned int Menu::GetColor(void){
	return this->Color;
}

unsigned int Menu::GetScale(void){
	return this->Scale;
}

void Menu::Draw(void){
	switch(this->State){
		case State::STARTED:
			break;
		case State::GAME:
			this->XPos = 140;
			this->YPos = 12;
			this->Color = 0xFFF;
			sprintf(this->Buffer, "%d", this->Counter);
			break;
		case State::PAUSED:
			break;
		case State::FAILED:
			break;
		default:
			break;
	}
}
