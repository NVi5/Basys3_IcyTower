#include "../include/game.hpp"
#include "../include/fpga_interface.h"

#include "xil_printf.h"

Game GameInstance;

int main(){

	fpga_interface_initialize(&GameInstance);
	fpga_interface_initialize_hardware();

    while(1){

    	int i = 0;
		while(i++ < 30000);
		enterCritical();
    	GameInstance.Run();
    	exitCritical();

    	if(GameInstance.gameOver){
    		GameInstance = Game();

    	}
    }
}

