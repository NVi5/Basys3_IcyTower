#include "../include/fpga_interface.h"

#include "xsysmon_hw.h"
#include "xsysmon.h"

#include "xil_printf.h"

static XSysMon adc;
static XSysMon_Config *adc_config;

int main(){

	Game GameInstance;

	fpga_interface_initialize(&GameInstance);
	fpga_interface_initialize_hardware();

	adc_config = XSysMon_LookupConfig(XPAR_XADC_WIZ_0_DEVICE_ID);
	XSysMon_CfgInitialize(&adc, adc_config, adc_config->BaseAddress);

	u16 tab[32];

    while(1){

    	for(int i = 0; i < 32; i++) {
    		tab[i] = XSysMon_GetAdcData(&adc, XSM_CH_AUX_MIN + 4);
    	}

    	for(int i = 0; i < 32; i++) {
        	xil_printf("%04x\r\n", tab[i]);
    	}

    }
}

