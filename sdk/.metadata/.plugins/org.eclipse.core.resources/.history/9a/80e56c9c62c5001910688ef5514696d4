/*
 * menu.c
 *
 *  Created on: 22.08.2019
 *      Author: nvade
 */
#include "../include/menu.hpp"

Menu::Menu(unsigned int SizeX, unsigned int SizeY){
	this->Position = Position::RESTART_RESUME;
	this->Level = Level::EASY;
	this->State = State::STARTED;
	this->Counter = 0;

	this->XPos = &VGA_TEXT_XPOS;
	this->YPos = &VGA_TEXT_YPOS;
	this->Color = &VGA_TEXT_COLOR;
	this->Scale = &VGA_TEXT_SCALE;

//	__attribute__((section(".vga_text")))
	this->Buffer = new char[SizeX*SizeY];
}

char * Menu::GetBuffer(void){
	return this->Buffer;
}

void Menu::SetState(enum Menu::State st){
	this->State = st;
}

void Menu::SetPosition(enum Menu::Position pos){
	this->Position = pos;
}

void Menu::SetLevel(enum Menu::Level lv){
	this->Level = lv;
}

void Menu::SetCounter(unsigned int count){
	this->Counter = count;
}

void Menu::Draw(void){
	switch(this->State){
		case State::STARTED:
			break;
		case State::GAME:
			this->(*XPos) = 140;
			this->YPos = 12;
			this->Color = 0xFFF;
			this->Scale = 2;
			sprintf(this->Buffer, "%d", this->Counter);
			break;
		case State::PAUSED:
			break;
		case State::FAILED:
			break;
		default:
			break;
	}
}
